import { PrismaClient } from "@prisma/client";
const prisma = new PrismaClient();

async function main() {
  let user = await prisma.user.findFirst();
  if (!user) {
    user = await prisma.user.create({ data: { name: "Demo User", email: "demo@aimaxauto.com", role: "USER" } });
    console.log("Created demo user:", user.email);
  }
  const count = await prisma.vehicle.count();
  if (count > 0) { console.log(`Already has ${count} vehicles. Skipping.`); return; }

  const vehicles = [
    { userId:user.id, brand:"Tesla", model:"Model Y Long Range", year:2023, fuel:"Electric", hp:384, color:"Pearl White", mileage:18200, drive:"AWD", body:"SUV", trans:"Automatic 1-speed", accel:"4.8s", topSpeed:"135 mph", battery:"75 kWh", rangemi:"330 mi", consumption:"28 kWh/100mi", co2:"0 g/mi", weight:"4,398 lbs", towCapacity:"3,500 lbs", length:"187.0 in", width:"75.6 in", height:"63.9 in", seats:5, doors:5, vin:"5YJYGDEE5PF000001", licensePlate:"7ABC123", owners:1, regRegion:"westcoast", inspectionStatus:"approved", lastInspection:"2025-06-15", nextInspection:"2027-06-15", lastService:"2025-10-01", nextService:"In 5,000 mi", estimatedAnnualMi:12000, insurance:{co:"State Farm",ty:"Full Coverage",cost:210,valid:"2026-08-01",deductible:500,pnr:"SF-2023-44891"}, warranties:[{ty:"Bumper-to-bumper",from:"2023-03",to:"2027-03",note:"4 yr / 50,000 mi"},{ty:"Drivetrain",from:"2023-03",to:"2031-03",note:"8 yr / 100,000 mi"},{ty:"Battery",from:"2023-03",to:"2031-03",note:"8 yr / 120,000 mi"}], financing:{co:"Tesla Finance",ty:"Auto Loan",monthly:689,rate:"4.99%",start:"2023-03",end:"2028-03",rest:18500,orig:48000,term:"60 mo",apr:"5.12%"}, annualTax:0, monthlyFuelCost:85, parkingCost:80, washCost:35, tollCost:20, marketValue:39800, equipment:["Autopilot","Premium Audio","Heated Seats","Panoramic Glass Roof","Wireless Charging","Sentry Mode","Apple CarPlay","Android Auto","Keyless Entry","OTA Updates","Backup Camera","Blind Spot Monitor","LED Matrix"], deviations:[], serviceBook:[{date:"2024-03-15",mi:"8,500",workshop:"Tesla Service Burbank",type:"Annual checkup",items:["Cabin air filter","Tire rotation"],cost:389},{date:"2025-10-01",mi:"16,800",workshop:"Tesla Service Burbank",type:"2-year service",items:["Cabin air filter","Wiper blades"],cost:495}], status:"ok", statusText:"All Good" },
    { userId:user.id, brand:"Ford", model:"F-150 XLT EcoBoost", year:2022, fuel:"Gas", hp:400, color:"Oxford White", mileage:32500, drive:"4WD", body:"Truck", trans:"10-speed Automatic", accel:"5.6s", consumption:"23 mpg", co2:"386 g/mi", weight:"4,705 lbs", towCapacity:"13,000 lbs", length:"231.7 in", width:"79.9 in", seats:6, doors:4, vin:"1FTEW1EP5NFA00002", licensePlate:"8DEF456", owners:2, regRegion:"southwest", inspectionStatus:"warning", lastInspection:"2025-02-20", nextInspection:"2026-02-24", lastService:"2025-08-15", nextService:"In 2,000 mi", estimatedAnnualMi:16000, insurance:{co:"GEICO",ty:"Full Coverage",cost:185,valid:"2026-04-15",deductible:750}, warranties:[{ty:"Bumper-to-bumper",from:"2022-06",to:"2025-06",note:"Expired"}], financing:{co:"Ford Credit",ty:"Auto Loan",monthly:545,rate:"5.49%",start:"2022-06",end:"2027-06",rest:12800,orig:38000,term:"60 mo"}, annualTax:0, monthlyFuelCost:220, parkingCost:60, washCost:40, tollCost:30, marketValue:35200, equipment:["360 Camera","Pro Power Onboard","FordPass Connect","Sync 4","Heated Seats","Tow Package","LED Headlights","Backup Camera","Blind Spot Monitor"], deviations:[{area:"Windshield",desc:"Small stone chip on hood",sev:"minor"}], status:"warning", statusText:"Inspection Due Today" },
    { userId:user.id, brand:"Honda", model:"CR-V Hybrid EX-L", year:2021, fuel:"Hybrid", hp:204, color:"Crystal Black", mileage:41200, drive:"AWD", body:"SUV", trans:"CVT", accel:"7.8s", consumption:"38 mpg", co2:"234 g/mi", weight:"3,649 lbs", towCapacity:"1,500 lbs", length:"182.1 in", width:"73.0 in", seats:5, doors:5, vin:"7FARS6H77ME000003", licensePlate:"9GHI789", owners:1, regRegion:"northeast", inspectionStatus:"failed", lastInspection:"2025-01-10", nextInspection:"2026-03-10", lastService:"2025-06-20", nextService:"Overdue", estimatedAnnualMi:10000, insurance:{co:"Progressive",ty:"Full Coverage",cost:165,valid:"2026-06-01",deductible:500}, warranties:[{ty:"Powertrain",from:"2021-09",to:"2026-09",note:"5 yr / 60,000 mi"}], annualTax:0, monthlyFuelCost:120, parkingCost:60, washCost:30, tollCost:15, marketValue:25800, equipment:["Honda Sensing","Wireless CarPlay","Leather Seats","Power Liftgate","Heated Seats","LED Headlights","Backup Camera"], deviations:[{area:"Brakes",desc:"Front brake rotors worn — replacement needed within 1,000 mi",sev:"critical"},{area:"Body",desc:"Minor rust on rear wheel arches",sev:"moderate"}], status:"critical", statusText:"Brake Issue — Action Required" },
    { userId:user.id, brand:"BMW", model:"X3 xDrive30i M Sport", year:2020, fuel:"Gas", hp:248, color:"Alpine White", mileage:52800, drive:"AWD", body:"SUV", trans:"8-speed Automatic", accel:"6.0s", consumption:"27 mpg", co2:"327 g/mi", weight:"4,034 lbs", towCapacity:"4,400 lbs", length:"185.4 in", width:"74.4 in", seats:5, doors:5, vin:"5UXTY5C0XL9B00004", licensePlate:"0JKL012", owners:3, regRegion:"midwest", inspectionStatus:"approved", lastInspection:"2025-09-01", nextInspection:"2027-09-01", lastService:"2025-11-15", nextService:"In 8,000 mi", estimatedAnnualMi:10500, insurance:{co:"Allstate",ty:"Full Coverage",cost:245,valid:"2026-11-01",deductible:1000}, warranties:[], financing:{co:"BMW Financial",ty:"Auto Loan",monthly:425,rate:"3.99%",start:"2020-05",end:"2025-05",rest:0,orig:52000,term:"60 mo"}, annualTax:0, monthlyFuelCost:195, parkingCost:80, washCost:45, tollCost:25, marketValue:28500, equipment:["M Sport Suspension","Harman Kardon","Head-Up Display","Panoramic Sunroof","Heated Seats","Navigation","LED Matrix","Parking Assist","Backup Camera"], deviations:[], status:"ok", statusText:"All Good" },
  ];

  for (const v of vehicles) { await prisma.vehicle.create({ data: v }); console.log(`Created: ${v.brand} ${v.model}`); }
  console.log("Seed complete!");
}

main().catch(e => { console.error(e); process.exit(1); }).finally(() => prisma.$disconnect());
